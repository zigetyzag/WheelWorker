import{f as x,c as ge,j as e,a as j,m as ye,b as he,u as xe,o as je,d as D,e as b,g as ve,r as g,h as Se,i as _e,C as be,S as we,B as N,H as V,T as Ce,k as Te,l as M,U as Re,n as re,p as ke,q as ze,s as I,G as Ue,t as f,v as p,M as Ae,w as De,x as T,y as P,z as le,V as E,A as v,D as ce,I as F,E as W,F as Z,J as G,K as h,L as Le,N as Ne,O as Ve,P as Q,Q as Me,R as Ie,W as X,X as Y,Y as $,Z as K}from"./index-C0WLzDhq.js";function de(t){return ye(t,i=>i==="auto"?"auto":`span ${i}/span ${i}`)}const R=x(function(i,n){const{area:r,colSpan:c,colStart:m,colEnd:w,rowEnd:y,rowSpan:J,rowStart:H,...C}=i,O=ge({gridArea:r,gridColumn:de(c),gridRow:de(J),gridColumnStart:m,gridColumnEnd:w,gridRowStart:H,gridRowEnd:y});return e.jsx(j.div,{ref:n,__css:O,...C})});R.displayName="GridItem";const[Pe,se]=he({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),k=x(function(i,n){const r=xe("Stat",i),c={position:"relative",flex:"1 1 0%",...r.container},{className:m,children:w,...y}=je(i);return e.jsx(Pe,{value:r,children:e.jsx(j.div,{ref:n,...y,className:D("chakra-stat",m),__css:c,children:e.jsx("dl",{children:w})})})});k.displayName="Stat";const z=x(function(i,n){const r=se();return e.jsx(j.dd,{ref:n,...i,className:D("chakra-stat__help-text",i.className),__css:r.helpText})});z.displayName="StatHelpText";const U=x(function(i,n){const r=se();return e.jsx(j.dt,{ref:n,...i,className:D("chakra-stat__label",i.className),__css:r.label})});U.displayName="StatLabel";const A=x(function(i,n){const r=se();return e.jsx(j.dd,{ref:n,...i,className:D("chakra-stat__number",i.className),__css:{...r.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});A.displayName="StatNumber";const[Ee,L]=he({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),B=x((t,i)=>{const n=xe("Table",t),{className:r,layout:c,...m}=je(t);return e.jsx(Ee,{value:n,children:e.jsx(j.table,{ref:i,__css:{tableLayout:c,...n.table},className:D("chakra-table",r),...m})})});B.displayName="Table";const q=x((t,i)=>{const n=L();return e.jsx(j.tbody,{...t,ref:i,__css:n.tbody})}),a=x(({isNumeric:t,...i},n)=>{const r=L();return e.jsx(j.td,{...i,ref:n,__css:r.td,"data-is-numeric":t})}),d=x(({isNumeric:t,...i},n)=>{const r=L();return e.jsx(j.th,{...i,ref:n,__css:r.th,"data-is-numeric":t})}),ee=x((t,i)=>{const n=L();return e.jsx(j.thead,{...t,ref:i,__css:n.thead})}),o=x((t,i)=>{const n=L();return e.jsx(j.tr,{...t,ref:i,__css:n.tr})});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=b("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=b("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=b("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=b("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=b("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=b("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Ze(){const{profile:t,isLoading:i}=ve(),[n,r]=g.useState(!0),[c,m]=g.useState({totalUsers:0,verifiedUsers:0,activeChatRooms:0,activeForumPosts:0,pendingVerifications:0}),[w,y]=g.useState([]),[J,H]=g.useState([]),[C,O]=g.useState("all"),[ie,me]=g.useState(""),S=Se(),te=_e();g.useEffect(()=>{!i&&!(t!=null&&t.is_verified)&&(S({title:"Access denied",description:"You need to be a verified driver to access the admin dashboard.",status:"error",duration:5e3}),te("/"))},[t,i,te,S]),g.useEffect(()=>{if(!(t!=null&&t.is_verified))return;(async()=>{r(!0);try{const l={totalUsers:148,verifiedUsers:72,activeChatRooms:4,activeForumPosts:36,pendingVerifications:7},u=[{id:"1",user_id:"user-1",license_number:"TLC-98765432",full_name:"Michael Johnson",status:"pending",created_at:"2025-03-21T14:32:21.000Z",profiles:{full_name:"Michael Johnson",email:"michael@example.com"}},{id:"2",user_id:"user-2",license_number:"TLC-45678901",full_name:"Jessica Williams",status:"approved",created_at:"2025-03-20T10:15:43.000Z",profiles:{full_name:"Jessica Williams",email:"jessica@example.com"}},{id:"3",user_id:"user-3",license_number:"TLC-12398765",full_name:"David Brown",status:"rejected",created_at:"2025-03-18T16:45:12.000Z",profiles:{full_name:"David Brown",email:"david@example.com"}},{id:"4",user_id:"user-4",license_number:"TLC-56781234",full_name:"Amanda Smith",status:"pending",created_at:"2025-03-22T09:12:33.000Z",profiles:{full_name:"Amanda Smith",email:"amanda@example.com"}},{id:"5",user_id:"user-5",license_number:"TLC-90876543",full_name:"Robert Davis",status:"pending",created_at:"2025-03-22T11:42:18.000Z",profiles:{full_name:"Robert Davis",email:"robert@example.com"}}],pe=[{id:"user-1",full_name:"Michael Johnson",email:"michael@example.com",is_verified:!1,join_date:"2025-03-15",last_login:"2025-03-21"},{id:"user-2",full_name:"Jessica Williams",email:"jessica@example.com",is_verified:!0,join_date:"2025-03-10",last_login:"2025-03-22"},{id:"user-3",full_name:"David Brown",email:"david@example.com",is_verified:!1,join_date:"2025-03-12",last_login:"2025-03-18"},{id:"user-4",full_name:"Amanda Smith",email:"amanda@example.com",is_verified:!1,join_date:"2025-03-18",last_login:"2025-03-22"},{id:"user-5",full_name:"Robert Davis",email:"robert@example.com",is_verified:!1,join_date:"2025-03-20",last_login:"2025-03-22"},{id:"user-6",full_name:"Sarah Miller",email:"sarah@example.com",is_verified:!0,join_date:"2025-03-05",last_login:"2025-03-21"},{id:"user-7",full_name:"James Wilson",email:"james@example.com",is_verified:!0,join_date:"2025-03-08",last_login:"2025-03-20"}];m(l),y(u),H(pe)}catch(l){console.error("Error loading dashboard data:",l),S({title:"Error loading data",status:"error",duration:3e3})}finally{r(!1)}})()},[t,S]);const ue=s=>{y(l=>l.map(u=>u.id===s?{...u,status:"approved"}:u)),m(l=>({...l,verifiedUsers:l.verifiedUsers+1,pendingVerifications:l.pendingVerifications-1})),S({title:"Verification approved",status:"success",duration:3e3})},fe=s=>{y(l=>l.map(u=>u.id===s?{...u,status:"rejected"}:u)),m(l=>({...l,pendingVerifications:l.pendingVerifications-1})),S({title:"Verification rejected",status:"error",duration:3e3})},ae=w.filter(s=>C==="all"?!0:s.status===C),ne=J.filter(s=>{const l=ie.toLowerCase();return s.full_name.toLowerCase().includes(l)||s.email.toLowerCase().includes(l)}),_=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return i||!(t!=null&&t.is_verified)?e.jsx(be,{h:"50vh",children:e.jsx(we,{size:"xl",color:"teal.500"})}):e.jsxs(N,{children:[e.jsx(V,{mb:6,children:"Admin Dashboard"}),e.jsxs(Ce,{colorScheme:"teal",variant:"enclosed",isLazy:!0,children:[e.jsxs(Te,{children:[e.jsxs(M,{children:[e.jsx(Fe,{size:18,style:{marginRight:"8px"}})," Overview"]}),e.jsxs(M,{children:[e.jsx(Re,{size:18,style:{marginRight:"8px"}})," Verifications"]}),e.jsxs(M,{children:[e.jsx(re,{size:18,style:{marginRight:"8px"}})," Users"]}),e.jsxs(M,{children:[e.jsx(ke,{size:18,style:{marginRight:"8px"}})," Notifications"]})]}),e.jsxs(ze,{children:[e.jsxs(I,{children:[e.jsxs(Ue,{templateColumns:{base:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:6,mb:8,children:[e.jsx(R,{children:e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(k,{children:[e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(re,{size:16,style:{marginRight:"8px"}}),"Total Users"]}),e.jsx(A,{children:c.totalUsers}),e.jsxs(z,{children:[c.verifiedUsers," verified (",Math.round(c.verifiedUsers/c.totalUsers*100),"%)"]})]})})})}),e.jsx(R,{children:e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(k,{children:[e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(Ae,{size:16,style:{marginRight:"8px"}}),"Active Chat Rooms"]}),e.jsx(A,{children:c.activeChatRooms}),e.jsx(z,{children:"Last 30 days"})]})})})}),e.jsx(R,{children:e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(k,{children:[e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(He,{size:16,style:{marginRight:"8px"}}),"Forum Posts"]}),e.jsx(A,{children:c.activeForumPosts}),e.jsx(z,{children:"Last 30 days"})]})})})}),e.jsx(R,{children:e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(k,{children:[e.jsxs(U,{display:"flex",alignItems:"center",children:[e.jsx(De,{size:16,style:{marginRight:"8px"}}),"Pending Verifications"]}),e.jsx(A,{children:c.pendingVerifications}),e.jsx(z,{children:e.jsx(T,{size:"xs",colorScheme:"teal",mt:1,children:"Review All"})})]})})})})]}),e.jsx(f,{bg:"white",mb:6,children:e.jsxs(p,{children:[e.jsx(V,{size:"md",mb:4,children:"Recent Activity"}),e.jsxs(B,{variant:"simple",size:"sm",children:[e.jsx(ee,{children:e.jsxs(o,{children:[e.jsx(d,{children:"User"}),e.jsx(d,{children:"Action"}),e.jsx(d,{children:"Date"})]})}),e.jsxs(q,{children:[e.jsxs(o,{children:[e.jsx(a,{children:"Jessica Williams"}),e.jsx(a,{children:"Verified driver account"}),e.jsx(a,{children:_(new Date().toISOString())})]}),e.jsxs(o,{children:[e.jsx(a,{children:"Michael Johnson"}),e.jsx(a,{children:"Requested verification"}),e.jsx(a,{children:_(new Date().toISOString())})]}),e.jsxs(o,{children:[e.jsx(a,{children:"Sarah Miller"}),e.jsx(a,{children:"Created forum post"}),e.jsx(a,{children:_(new Date().toISOString())})]}),e.jsxs(o,{children:[e.jsx(a,{children:"Robert Davis"}),e.jsx(a,{children:"Joined chat room"}),e.jsx(a,{children:_(new Date().toISOString())})]}),e.jsxs(o,{children:[e.jsx(a,{children:"Amanda Smith"}),e.jsx(a,{children:"Requested verification"}),e.jsx(a,{children:_(new Date().toISOString())})]})]})]})]})})]}),e.jsxs(I,{children:[e.jsxs(P,{mb:6,spacing:4,children:[e.jsxs(le,{value:C,onChange:s=>O(s.target.value),width:"200px",children:[e.jsx("option",{value:"all",children:"All Requests"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(T,{leftIcon:e.jsx(Je,{size:18}),variant:"outline",children:"Export"})]}),e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(B,{variant:"simple",children:[e.jsx(ee,{children:e.jsxs(o,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"License"}),e.jsx(d,{children:"Date"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Actions"})]})}),e.jsx(q,{children:ae.length>0?ae.map(s=>e.jsxs(o,{children:[e.jsx(a,{children:e.jsxs(E,{align:"start",spacing:0,children:[e.jsx(v,{fontWeight:"medium",children:s.profiles.full_name}),e.jsx(v,{fontSize:"xs",color:"gray.500",children:s.profiles.email})]})}),e.jsx(a,{children:s.license_number}),e.jsx(a,{children:_(s.created_at)}),e.jsx(a,{children:e.jsx(ce,{colorScheme:s.status==="approved"?"green":s.status==="rejected"?"red":"yellow",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx(a,{children:s.status==="pending"?e.jsxs(P,{spacing:2,children:[e.jsx(F,{"aria-label":"Approve",icon:e.jsx(Be,{size:18}),colorScheme:"green",size:"sm",variant:"ghost",onClick:()=>ue(s.id)}),e.jsx(F,{"aria-label":"Reject",icon:e.jsx(Oe,{size:18}),colorScheme:"red",size:"sm",variant:"ghost",onClick:()=>fe(s.id)})]}):e.jsxs(W,{children:[e.jsx(Z,{as:F,"aria-label":"Options",icon:e.jsx(oe,{size:18}),variant:"ghost",size:"sm"}),e.jsxs(G,{children:[e.jsx(h,{children:"View Details"}),e.jsx(h,{children:"Contact User"}),s.status==="approved"&&e.jsx(h,{color:"red.500",children:"Revoke Verification"})]})]})})]},s.id)):e.jsx(o,{children:e.jsx(a,{colSpan:5,textAlign:"center",py:4,children:"No verification requests found"})})})]})})})]}),e.jsxs(I,{children:[e.jsxs(P,{mb:6,spacing:4,wrap:"wrap",children:[e.jsxs(Le,{width:{base:"100%",md:"300px"},children:[e.jsx(Ne,{pointerEvents:"none",children:e.jsx(Ve,{size:18,color:"gray.300"})}),e.jsx(Q,{placeholder:"Search users...",value:ie,onChange:s=>me(s.target.value)})]}),e.jsxs(W,{children:[e.jsx(Z,{as:T,rightIcon:e.jsx(Me,{size:16}),children:"Filters"}),e.jsxs(G,{children:[e.jsx(h,{children:"All Users"}),e.jsx(h,{children:"Verified Only"}),e.jsx(h,{children:"Unverified Only"}),e.jsx(h,{children:"Recent Joins"})]})]}),e.jsx(T,{leftIcon:e.jsx(Ie,{size:18}),colorScheme:"teal",ml:{base:0,md:"auto"},children:"Add User"})]}),e.jsx(f,{bg:"white",children:e.jsx(p,{children:e.jsxs(B,{variant:"simple",children:[e.jsx(ee,{children:e.jsxs(o,{children:[e.jsx(d,{children:"User"}),e.jsx(d,{children:"Joined"}),e.jsx(d,{children:"Last Login"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Actions"})]})}),e.jsx(q,{children:ne.length>0?ne.map(s=>e.jsxs(o,{children:[e.jsx(a,{children:e.jsxs(E,{align:"start",spacing:0,children:[e.jsx(v,{fontWeight:"medium",children:s.full_name}),e.jsx(v,{fontSize:"xs",color:"gray.500",children:s.email})]})}),e.jsx(a,{children:s.join_date}),e.jsx(a,{children:s.last_login}),e.jsx(a,{children:e.jsx(ce,{colorScheme:s.is_verified?"green":"gray",children:s.is_verified?"Verified":"Unverified"})}),e.jsx(a,{children:e.jsxs(W,{children:[e.jsx(Z,{as:F,"aria-label":"Options",icon:e.jsx(oe,{size:18}),variant:"ghost",size:"sm"}),e.jsxs(G,{children:[e.jsx(h,{children:"View Profile"}),e.jsx(h,{children:"Edit User"}),e.jsx(h,{children:"Reset Password"}),e.jsx(h,{color:"red.500",children:"Disable Account"})]})]})})]},s.id)):e.jsx(o,{children:e.jsx(a,{colSpan:5,textAlign:"center",py:4,children:"No users found"})})})]})})})]}),e.jsxs(I,{children:[e.jsx(f,{bg:"white",mb:6,children:e.jsxs(p,{children:[e.jsx(V,{size:"md",mb:4,children:"Send Notification"}),e.jsxs(E,{spacing:4,align:"stretch",children:[e.jsx(FormControl,{children:e.jsx(Q,{placeholder:"Notification title"})}),e.jsx(FormControl,{children:e.jsx(Q,{placeholder:"Notification message"})}),e.jsxs(P,{children:[e.jsxs(le,{placeholder:"Select target group",children:[e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"verified",children:"Verified Drivers"}),e.jsx("option",{value:"unverified",children:"Unverified Users"})]}),e.jsx(T,{colorScheme:"teal",children:"Send"})]})]})]})}),e.jsx(f,{bg:"white",children:e.jsxs(p,{children:[e.jsx(V,{size:"md",mb:4,children:"Recent Notifications"}),e.jsxs(E,{spacing:4,align:"stretch",children:[e.jsxs(X,{status:"info",borderRadius:"md",children:[e.jsx(Y,{}),e.jsxs(N,{flex:"1",children:[e.jsx($,{children:"System Maintenance"}),e.jsx(K,{children:"Scheduled maintenance on March 25th, 2025"})]}),e.jsx(v,{fontSize:"sm",color:"gray.500",children:"All Users • 2 days ago"})]}),e.jsxs(X,{status:"success",borderRadius:"md",children:[e.jsx(Y,{}),e.jsxs(N,{flex:"1",children:[e.jsx($,{children:"New Feature Released"}),e.jsx(K,{children:"Chat attachments are now available for all users"})]}),e.jsx(v,{fontSize:"sm",color:"gray.500",children:"All Users • 5 days ago"})]}),e.jsxs(X,{status:"warning",borderRadius:"md",children:[e.jsx(Y,{}),e.jsxs(N,{flex:"1",children:[e.jsx($,{children:"TLC License Update"}),e.jsx(K,{children:"Important changes to license renewal process"})]}),e.jsx(v,{fontSize:"sm",color:"gray.500",children:"Verified Drivers • 1 week ago"})]})]})]})})]})]})]})]})}export{Ze as default};
